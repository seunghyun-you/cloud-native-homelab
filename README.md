# Mini PC 홈랩 인프라 구축 포트폴리오

미니 PC를 활용하여 엔터프라이즈급 인프라 환경을 구축한 프로젝트입니다.
Kubernetes 기반 컨테이너 오케스트레이션, 분산 스토리지, GitOps CI/CD, 모니터링 스택을 포함합니다.

## 아키텍처 개요

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              External Access                                 │
│                         (OpenVPN / Nginx Ingress)                           │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           Kubernetes Cluster                                 │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │                        Control Plane (HA)                             │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                              │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │   Worker    │  │   Worker    │  │   Worker    │  │   Worker    │        │
│  │   Node 1    │  │   Node 2    │  │   Node 3    │  │   Node N    │        │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘        │
│         │                │                │                │                │
│         └────────────────┴────────────────┴────────────────┘                │
│                                   │                                          │
│                          Cilium CNI (eBPF)                                  │
└─────────────────────────────────────────────────────────────────────────────┘
                                      │
        ┌─────────────────────────────┼─────────────────────────────┐
        ▼                             ▼                             ▼
┌───────────────┐           ┌───────────────┐           ┌───────────────┐
│    CI/CD      │           │    Storage    │           │ Observability │
│ ─────────────│           │ ─────────────│           │ ─────────────│
│ • ArgoCD      │           │ • Ceph Cluster│           │ • Prometheus  │
│ • Jenkins     │           │ • NFS CSI     │           │ • Grafana     │
│ • OCI Registry│           │ • Ceph CSI    │           │               │
└───────────────┘           └───────────────┘           └───────────────┘
```

## 기술 스택

| 영역 | 기술 | 용도 |
|------|------|------|
| **OS** | Ubuntu 24.04 | 호스트 운영체제 |
| **가상화** | Vagrant | VM 프로비저닝 |
| **컨테이너** | Kubernetes | 컨테이너 오케스트레이션 |
| **CNI** | Cilium | eBPF 기반 네트워킹 |
| **스토리지** | Ceph (cephadm) | 분산 스토리지 클러스터 |
| **CSI** | NFS / Ceph CSI | 동적 볼륨 프로비저닝 |
| **Ingress** | Nginx | 리버스 프록시 / 로드밸런서 |
| **VPN** | OpenVPN | 외부 접근 보안 |
| **GitOps** | ArgoCD | 선언적 배포 자동화 |
| **CI** | Jenkins | 빌드 파이프라인 |
| **Registry** | OCI Registry | 컨테이너 이미지 저장소 |
| **모니터링** | Prometheus | 메트릭 수집 |
| **시각화** | Grafana | 대시보드 |

## 프로젝트 구성

### [01. Infrastructure](./01-infrastructure/)
미니 PC 하드웨어 사양 및 Vagrant를 활용한 VM 프로비저닝 환경을 구성합니다.
- 하드웨어 스펙 및 네트워크 토폴로지
- Vagrant 기반 VM 자동 배포

### [02. Kubernetes](./02-kubernetes/)
고가용성 Kubernetes 클러스터를 구축하고 Cilium CNI를 적용합니다.
- kubeadm 기반 클러스터 설치
- Cilium eBPF CNI 구성
- 기본 매니페스트 템플릿

### [03. Storage](./03-storage/)
Ceph 분산 스토리지 클러스터와 CSI 드라이버를 구성합니다.
- cephadm을 활용한 Ceph 클러스터 배포
- NFS CSI / Ceph CSI 드라이버 설정
- StorageClass 및 PVC 관리

### [04. Networking](./04-networking/)
외부 접근 및 내부 트래픽 라우팅을 위한 네트워크 서비스를 구성합니다.
- Nginx Ingress Controller
- OpenVPN 서버 구축

### [05. CI/CD](./05-cicd/)
GitOps 기반 배포 파이프라인과 컨테이너 레지스트리를 구성합니다.
- ArgoCD를 활용한 GitOps 워크플로우
- Jenkins 빌드 파이프라인
- Private OCI Registry 운영

### [06. Observability](./06-observability/)
클러스터 및 애플리케이션 모니터링 환경을 구성합니다.
- Prometheus 메트릭 수집 및 알림
- Grafana 대시보드 구성

## 학습 및 경험

이 프로젝트를 통해 다음을 경험하고 학습했습니다:

- **On-Premise 환경 설계**: 제한된 리소스에서 효율적인 인프라 구성
- **Kubernetes 운영**: 클러스터 구축부터 장애 대응까지 전체 라이프사이클 관리
- **스토리지 아키텍처**: 분산 스토리지 시스템 이해 및 CSI 통합
- **GitOps 실践**: 선언적 인프라 관리와 자동화된 배포 파이프라인
- **트러블슈팅**: 실제 환경에서 발생하는 다양한 이슈 해결 경험

## 작성자

- **경력**: 5년 6개월
  - Software Engineer (SRE, On-Premise): 1년
  - Cloud Engineer & Architect (AWS): 4년 6개월

---

> 각 섹션의 상세 내용은 해당 디렉토리의 문서를 참고해 주세요.
